<canvas width="800" height="600"></canvas>
<br>
Escolha uma cor <input type="color">

<script>
    var tela = document.querySelector('canvas');
    var pincel = tela.getContext('2d');
	var paleta = document.querySelector('input'); 
	

    pincel.fillStyle = 'lightgrey';
    pincel.fillRect(100, 100, 900, 700);
    
	

    var desenha = false;
	var raio = 5;

    function desenhaCirculo(evento) {

        if (evento.shiftKey && evento.altKey) {

            alert('Só aperte uma tecla por vez, por favor!');

        } 
		
		else if(evento.shiftKey && raio + 5 <= 20) {
            raio = raio + 5;

        } 
		
		else if(evento.altKey && raio - 5 >= 10) {
            raio = raio - 5;

        }		

        if(desenha) {
            var x = evento.pageX - tela.offsetLeft;
            var y = evento.pageY - tela.offsetTop;
            					
			pincel.fillStyle = paleta.value;   // atenção a este pedaco..estava colocando so paleta e nao funcionava
            pincel.beginPath();
            pincel.arc(x, y, raio, 0, 2 * 3.14);
            pincel.fill();
        }
        console.log(x + ',' + y);
    }

    tela.onmousemove = desenhaCirculo;
	
    tela.touchstart = desenhaCirculo;

    function habilitaDesenhar() {

        desenha = true;
    }

    function desabilitaDesenhar() {

        desenha = false;
    }

    tela.onmousedown = habilitaDesenhar;

    tela.onmouseup = desabilitaDesenhar;
	
    tela.touchmove = habilitaDesenhar;

    tela.touchend = desabilitaDesenhar;
	
	function desenhaTexto(x , y, texto) {
        var tela = document.querySelector('canvas');
        var pincel = tela.getContext('2d');

        pincel.font='15px Georgia';
        pincel.fillStyle='black';
        pincel.fillText(texto, x, y); 
	}	
	
		
	desenhaTexto( 40, 30, 'Para desenhar arraste o mouse enquanto segura o botão esquerdo');	
    desenhaTexto( 40, 50, 'Para aumentar espessura aperta shift');
	desenhaTexto( 40, 70, 'Para reduzir espessura aperta alt');
	
</script>


	<p class="copyright">&copy; Copyright crismgsp 2022</p>
		
